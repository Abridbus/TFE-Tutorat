@model Tutorat.Models.listePrestationtmp

@{
    ViewBag.Title = "Gestion Prestations ";
}

<h2> Gestion des prestations </h2>

<p> Dans cette page, le membre du Service d'Aide à la Réussite peut, pour un tuteur donné, valider les prestations.</p>
<p> Pour ce faire il suffit de cocher la case validation et de soumettre.</p>

<div class="row">
    <div class="col-md-12">
        <div class="panel panel-primary list-panel" id="list-panel">
            <div class="panel-heading list-panel-heading">
                <h1 class="panel-title list-panel-title">Demande de tutorat  :</h1>
            </div>
            <!-- BEGIN FORM : -->
            @using (Ajax.BeginForm("GestionPrestationsDeux", "GestionTutorat",
                new AjaxOptions { LoadingElementId = "loader", OnSuccess = "onSuccess" }))
            {
                <div class="panel-body">
                    <table id="assets-data-table"
                           class="table table-striped table-bordered"
                           style="width:100%">
                        <thead>
                            <tr>
                                <th>
                                    Libellé du cours
                                </th>
                                <th>
                                    Date de prestation
                                </th>
                                <th>
                                    Durée de prestation                                
                                </th>
                                <th>
                                    Compte rendu
                                </th>
                                <th>
                                    Validation
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            @{int i = 0;}
                            @foreach (var item in Model.Items)
                            {
                                @Html.HiddenFor(m => m.Items[i].tuteur_id)
                                @Html.HiddenFor(m => m.Items[i].tutorat_id)
                                @Html.HiddenFor(m => m.Items[i].prestation_id)
                                <tr>
                                    <td>
                                        @ViewBag.LibellesCours[i]
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.datePrestation)
                                        @Html.HiddenFor(m => m.Items[i].datePrestation)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.dureePrestation)
                                        @Html.HiddenFor(m => m.Items[i].dureePrestation)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.compteRendu)
                                        @Html.HiddenFor(m => m.Items[i].compteRendu)
                                    </td>
                                    <td>
                                        @Html.CheckBoxFor(model => model.select[i])
                                    </td>
                                </tr>
                                i++;
                            }
                        </tbody>
                    </table>
                </div>
                <input type="submit" value="Soumettre" />
                                }
        </div>
    </div>
</div>
